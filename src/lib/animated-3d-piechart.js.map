{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f430f8aa3a7dad852d36","webpack:///external \"d3\"","webpack:///./src/index.js"],"names":["piechart3D","colors","prepearData","_data","fontSize","height","data","value","d","newSlice","map","startAngle","Math","PI","endAngle","index","length","parentIndex","oldEndAngle","oldSartAngle","childIndex","push","pi1","filter","sort","a","b","pi2","pi3","pi4","concat","round","labelMargin","indexOf","checkDataColors","color","checkData","Object","assign","Number","midAngle","pieTop","rx","ry","ir","sx","cos","sy","sin","ex","ey","ret","join","pieInner","h","pieOuter","pieWalls","labelPath","x1","y1","labelPathLength","path","onClick","id","onSliceSelect","move","angle","moved","pos","slice","slice2","onClickSlice","on","transition","duration","attr","tooltip","t","d2","labelPosition","x","node","transform","baseVal","matrix","e","y","f","prepareConfig","userConfig","conf","animationDuration","linesColor","labelColor","animatedSlices","tooltipColor","size","label","toFixed","topColor","wallsColor","darker","update","chartId","getBoundingClientRect","width","drowingStart","drowingEnd","slices","selectAll","each","slicesCount","_groups","i","remove","select","append","style","topSlices","current","delay","attrTween","walls","outers","inner","text","lines","styleTween","draw","enter","s","s2","exit","tooltips","labels","module","exports"],"mappings":"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","file":"animated-3d-piechart.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"animated-3d-piechart\"] = factory(require(\"d3\"));\n\telse\n\t\troot[\"animated-3d-piechart\"] = factory(root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f430f8aa3a7dad852d36","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 0\n// module chunks = 0","import { pie, select, hsl, interpolate } from 'd3';\n\nconst piechart3D = {};\n\nconst colors = ['limegreen', 'mediumvioletred', 'mediumpurple', 'orange',\n  'firebrick', 'chartreuse', 'dodgerblue', 'tomato'];\n\nfunction prepearData(_data, fontSize, height) {\n  let data = pie().value(d => d.value)(_data);\n  let newSlice = null;\n\n  data = data.map(d => {\n    if (d.startAngle < Math.PI / 2 && d.endAngle > 3 / 2 * Math.PI) {\n      newSlice = {\n        value: d.value,\n        startAngle: Math.PI / 2,\n        endAngle: d.endAngle,\n        data: d.data,\n        index: data.length,\n        parentIndex: d.index,\n        oldEndAngle: d.endAngle,\n        oldSartAngle: d.startAngle\n      };\n      d.oldEndAngle = d.endAngle;\n      d.oldSartAngle = d.startAngle;\n      d.endAngle = Math.PI / 2;\n      d.childIndex = data.length;\n    }\n    return d;\n  });\n\n  if (newSlice) {\n    data.push(newSlice);\n  }\n\n  const pi1 = data.map(d => d.endAngle <= Math.PI / 2 ? d : null)\n                  .filter(d => d !== null).sort((a, b) => (b.value - a.value));\n  const pi2 = data.map(d => d.endAngle > Math.PI / 2 && d.endAngle <= Math.PI ? d : null)\n                  .filter(d => d !== null).sort((a, b) => (a.value - b.value));\n  const pi3 = data.map(d => d.endAngle > Math.PI && d.endAngle <= 3 * Math.PI / 2 ? d : null)\n                  .filter(d => d !== null).sort((a, b) => (a.value - b.value));\n  const pi4 = data.map(d => d.endAngle > 3 * Math.PI / 2 ? d : null)\n                  .filter(d => d !== null).sort((a, b) => (b.value - a.value));\n\n  data = [].concat(pi4).concat(pi1).concat(pi3).concat(pi2);\n\n  data = data.map(d => {\n    if (Math.round((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) < 2) {\n      d.data.labelMargin = fontSize / (height / 180) + data[data.indexOf(d) - 1].data.labelMargin;\n    } else {\n      d.data.labelMargin = 0;\n    }\n    return d;\n  });\n  return data;\n}\n\nfunction checkDataColors(data) {\n  return data.map(d => {\n    if (!d.color) {\n      d.color = colors[data.indexOf(d) % colors.length];\n    }\n    return d;\n  });\n}\n\nfunction checkData(data) {\n  return data.map(d => typeof d === 'object' ? Object.assign({}, d) : { value: Number(d) });\n}\n\nfunction midAngle(d) {\n  return d.oldEndAngle ? d.oldSartAngle + (d.oldEndAngle - d.oldSartAngle) / 2 :\n    d.startAngle + (d.endAngle - d.startAngle) / 2;\n}\n\nfunction pieTop(d, rx, ry, ir) {\n  if (d.endAngle - d.startAngle === 0) {\n    return 'M 0 0';\n  }\n\n  const sx = rx * Math.cos(d.startAngle);\n  const sy = ry * Math.sin(d.startAngle);\n  const ex = rx * Math.cos(d.endAngle);\n  const ey = ry * Math.sin(d.endAngle);\n  const ret = [];\n\n  ret.push('M', sx, sy, 'A', rx, ry, '0', (d.endAngle - d.startAngle > Math.PI ? 1 : 0));\n  ret.push('1', ex, ey, 'L', ir * ex, ir * ey);\n  ret.push('A', ir * rx, ir * ry, '0', (d.endAngle - d.startAngle > Math.PI ? 1 : 0),\n    '0', ir * sx, ir * sy, 'z');\n  return ret.join(' ');\n}\n\nfunction pieInner(d, rx, ry, h, ir) {\n  const startAngle = (d.startAngle < Math.PI ? Math.PI : d.startAngle);\n  const endAngle = (d.endAngle < Math.PI ? Math.PI : d.endAngle);\n  const sx = ir * rx * Math.cos(startAngle);\n  const sy = ir * ry * Math.sin(startAngle);\n  const ex = ir * rx * Math.cos(endAngle);\n  const ey = ir * ry * Math.sin(endAngle);\n  const ret = [];\n\n  ret.push('M', sx, sy, 'A', ir * rx, ir * ry, '0 0 1', ex, ey);\n  ret.push('L', ex, h + ey, 'A', ir * rx, ir * ry, '0 0 0', sx, h + sy, 'z');\n  return ret.join(' ');\n}\n\nfunction pieOuter(d, rx, ry, h) {\n  const startAngle = (d.startAngle > Math.PI ? Math.PI : d.startAngle);\n  const endAngle = (d.endAngle > Math.PI ? Math.PI : d.endAngle);\n  const sx = rx * Math.cos(startAngle);\n  const sy = ry * Math.sin(startAngle);\n  const ex = rx * Math.cos(endAngle);\n  const ey = ry * Math.sin(endAngle);\n  const ret = [];\n\n  ret.push('M', sx, h + sy, 'A', rx, ry, '0 0 1', ex, h + ey, 'L', ex, ey);\n  ret.push('A', rx, ry, '0 0 0', sx, sy, 'z');\n  return ret.join(' ');\n}\n\nfunction pieWalls(d, rx, ry, h, ir) {\n  const sx = rx * Math.cos(d.startAngle);\n  const sy = ry * Math.sin(d.startAngle);\n  const ex = rx * Math.cos(d.endAngle);\n  const ey = ry * Math.sin(d.endAngle);\n  const ret = [];\n\n  ret.push('M', ir * ex, ir * ey, 'L', ir * ex, ir * ey + h, 'L', ex, ey + h, 'L', ex, ey, 'z');\n  ret.push('M', ir * sx, ir * sy, 'L', ir * sx, ir * sy + h, 'L', sx, sy + h, 'L', sx, sy, 'z');\n  return ret.join(' ');\n}\n\nfunction labelPath(d, rx, ry, h) {\n  const x1 = rx * Math.cos(midAngle(d));\n  const y1 = ry * Math.sin(midAngle(d));\n  const labelPathLength = 1 + h / rx / 2;\n  const path = [];\n\n  path.push('M', x1, y1, 'L', x1 * labelPathLength, y1 * labelPathLength);\n  path.push('L', (rx + 14) * (midAngle(d) > 3 / 2 * Math.PI || midAngle(d) < Math.PI / 2 ? 1 : -1),\n            y1 * labelPathLength + d.data.labelMargin);\n  path.push('L', x1 * labelPathLength, y1 * labelPathLength, 'z');\n\n  return path.join(' ');\n}\n\nfunction onClick(id, d, rx, ry, onSliceSelect) {\n  function move() {\n    const angle = midAngle(d);\n    const ex = 0.2 * rx * Math.cos(angle > Math.PI ? angle : -angle);\n    const ey = 0.2 * ry * Math.sin(angle);\n\n    if (!d.data.moved) {\n      return [ex, ey];\n    }\n    return [0, 0];\n  }\n\n  const pos = move();\n  const slice = select(`#${id}-slice-${d.index}`);\n  let slice2 = null;\n  const onClickSlice = slice.on('click');\n\n  if (d.parentIndex === 0) {\n    slice2 = select(`#${id}-slice-${d.parentIndex}`);\n    slice2.transition()\n      .duration(1000)\n      .attr('transform', `translate(${pos})`)\n      .on('start', () => slice.on('click', null))\n      .on('end', () => slice.on('click', onClickSlice));\n  }\n\n  if (d.childIndex) {\n    slice2 = select(`#${id}-slice-${d.childIndex}`);\n    slice2.transition()\n      .duration(1000)\n      .attr('transform', `translate(${pos})`)\n      .on('start', () => slice.on('click', null))\n      .on('end', () => slice.on('click', onClickSlice));\n  }\n\n  slice.transition()\n      .duration(1000)\n      .attr('transform', `translate(${pos})`)\n      .on('start', () => slice.on('click', null))\n      .on('end', () => slice.on('click', onClickSlice));\n\n  const tooltip = select(`#${id}-${d.childIndex ? d.childIndex : d.index}-tooltip`);\n\n  tooltip.transition()\n      .duration(1000)\n      .attr('transform', `translate(${pos})`)\n      .on('start', () => tooltip.on('click', null))\n      .on('end', () => tooltip.on('click', onClickSlice));\n\n  const t = select(`#${id}-${d.childIndex ? d.childIndex : d.index}-text`);\n  t.transition()\n    .duration(1000)\n    .attr('transform', d2 => {\n      if (!d.data.moved) {\n        d2.data.labelPosition = {\n          x: t.node().transform.baseVal[0].matrix.e,\n          y: t.node().transform.baseVal[0].matrix.f,\n        };\n        return `translate(${[d2.data.labelPosition.x + pos[0], d2.data.labelPosition.y + pos[1]]})`;\n      }\n\n      return `translate(${[d2.data.labelPosition.x, d2.data.labelPosition.y]})`;\n    });\n\n  const path = select(`#${id}-${d.childIndex ? d.childIndex : d.index}-path`);\n  path.transition()\n    .duration(1000)\n    .attr('transform', `translate(${pos})`);\n\n  if (!d.data.moved) {\n    d.data.moved = true;\n  } else {\n    d.data.moved = false;\n  }\n\n  if (onSliceSelect) {\n    onSliceSelect(d);\n  }\n}\n\nfunction prepareConfig(userConfig) {\n  let conf = {\n    h: 20,\n    ir: 0,\n    fontSize: 12,\n    animationDuration: 750,\n    linesColor: 'black',\n    labelColor: 'black',\n    angle: 45,\n    onSliceSelect: null,\n    animatedSlices: true,\n    tooltipColor: 'black',\n    size: 100,\n    label: d =>\n      `${d.data.label ? d.data.label : ''}(${Math.round((d.endAngle - d.startAngle) /\n        (2 * Math.PI) * 100)}%)`,\n    tooltip: d => `${Number(d.value).toFixed(2)}`,\n    topColor: d => hsl(d.data.color),\n    wallsColor: d => hsl(d.data.color).darker(0.7)\n  };\n\n  conf = userConfig && typeof userConfig === 'object' ? Object.assign(conf, userConfig) : conf;\n\n  conf.h = conf.h >= 0 ? conf.h : 0;\n  conf.angle = conf.angle > 90 ? 90 : conf.angle;\n  conf.angle = conf.angle < 0 ? 0 : conf.angle;\n  conf.h *= (90 - conf.angle) / 90;\n\n  conf.ir /= 100;\n  conf.ir = conf.ir < 0 || conf.ir > 1 ? 0 : conf.ir;\n  return conf;\n}\n\npiechart3D.update = (chartId, _data, userConfig) => {\n  const conf = prepareConfig(userConfig);\n\n  const height = select(`#${chartId}`).node().getBoundingClientRect().height;\n  const width = select(`#${chartId}`).node().getBoundingClientRect().width;\n\n  const rx = width / 4 * conf.size / 100;\n  const ry = rx * conf.angle / 90;\n  const duration = conf.animationDuration;\n\n  const id = `${chartId}-svg`;\n\n  let data = checkData(_data);\n\n  data = checkDataColors(data);\n  data = prepearData(data, conf.fontSize, height);\n\n  function drowingStart(d) {\n    select(`#${id}-slice-${d.index}`).on('click', null);\n  }\n\n  function drowingEnd(d) {\n    select(`#${id}-slice-${d.index}`).on('click', d2 => conf.animatedSlices ?\n      onClick(id, d2, rx, ry, conf.onSliceSelect) : null);\n  }\n\n  const slices = select(`#${id}`).selectAll('.slice');\n\n  slices.each(d => {\n    if (d.data.moved) {\n      onClick(id, d, rx, ry);\n      d.data.moved = false;\n    }\n\n    return null;\n  });\n\n  const slicesCount = slices._groups[0].length;\n\n  if (slicesCount > data.length) {\n    for (let i = slicesCount - data.length - 1; i >= 0; i -= 1) {\n      select(`#${id}-slice-${i}`).remove();\n      select(`#${id}-${i}-text`).remove();\n      select(`#${id}-${i}-path`).remove();\n    }\n  } else if (slicesCount < data.length) {\n    for (let i = data.length - slicesCount - 1; i >= 0; i -= 1) {\n      const slice = select(`#${id}`).select('.slices')\n                       .append('g')\n                       .attr('class', 'slice')\n                       .attr('id', `#${id}-slice-${data.length - i}`);\n\n      slice.append('path').attr('class', 'wallSlice');\n      slice.append('path').attr('class', 'outerSlice');\n      slice.append('path').attr('class', 'innerSlice');\n      slice.append('path').attr('class', 'topSlice');\n\n      select(`#${id}`).select('.lines')\n                     .append('path')\n                     .attr('class', 'label-path');\n\n      select(`#${id}`).select('.labels')\n                     .append('text')\n                     .attr('class', 'label');\n\n      select(`#${id}`).select('.tooltips')\n                     .append('text')\n                     .attr('class', 'tooltip');\n    }\n  }\n\n  slices.data(data)\n        .attr('id', d => `${id}-slice-${d.index}`)\n        .on('click', d => conf.animatedSlices ? onClick(id, d, rx, ry, conf.onSliceSelect) : null)\n        .on('mouseover', d => {\n          select(`#${id}-${d.index}-tooltip`).style('opacity', 1);\n        })\n        .on('mouseout', d => {\n          select(`#${id}-${d.index}-tooltip`).style('opacity', 0.0);\n        });\n\n  const topSlices = select(`#${id}`).selectAll('.topSlice');\n\n  topSlices.each(function (d) { this.current = d; })\n          .data(data)\n          .attr('id', d => `${id}-${d.index}-top`)\n          .style('fill', conf.topColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', function (d) {\n            const i = interpolate(this.current, d);\n            return t => pieTop(i(t), rx, ry, conf.ir);\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n  const walls = select(`#${id}`).selectAll('.wallSlice');\n\n  walls.each(function (d) { this.current = d; })\n          .data(data)\n          .attr('id', d => `${id}-${d.index}-wall`)\n          .style('fill', conf.wallsColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', function (d) {\n            const i = interpolate(this.current, d);\n            return t => pieWalls(i(t), rx, ry, conf.h, conf.ir);\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n  const outers = select(`#${id}`).selectAll('.outerSlice');\n\n  outers.each(function (d) { this.current = d; })\n          .data(data)\n          .attr('id', d => `${id}-${d.index}-outer`)\n          .style('fill', conf.wallsColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', function (d) {\n            const i = interpolate(this.current, d);\n            return t => pieOuter(i(t), rx, ry, conf.h);\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n  const inner = select(`#${id}`).selectAll('.innerSlice');\n\n  inner.each(function (d) { this.current = d; })\n          .data(data)\n          .attr('id', d => `${id}-${d.index}-inner`)\n          .style('fill', conf.wallsColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', function (d) {\n            const i = interpolate(this.current, d);\n            return t => pieInner(i(t), rx, ry, conf.h, conf.ir);\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n  select(`#${id}`).selectAll('.tooltip')\n          .data(data)\n          .attr('id', d => `${id}-${d.index}-tooltip`)\n          .style('font-size', conf.fontSize)\n          .style('fill', conf.tooltipColor)\n          .text(d => conf.tooltip ? conf.tooltip(d) : null)\n          .attr('x', d => (rx + rx * conf.ir) / 2 * Math.cos(midAngle(d)))\n          .attr('y', d => (ry + ry * conf.ir) / 2 * Math.sin(midAngle(d)))\n          .on('click', d => conf.animatedSlices ?\n            onClick(id, d, rx, ry, conf.onSliceSelect) : null)\n          .on('mouseover', d => {\n            select(`#${id}-${d.index}-tooltip`).style('opacity', conf.tooltip ? 1 : 0);\n          })\n          .on('mouseout', d => {\n            select(`#${id}-${d.index}-tooltip`).style('opacity', 0.0);\n          });\n\n  const lines = select(`#${id}`).selectAll('.label-path');\n\n  lines.each(function (d) { this.current = d; })\n        .data(data[data.length - 1].oldEndAngle ? data.slice(0, data.length - 2) : data)\n        .attr('id', d => `${id}-${d.index}-path`)\n        .style('stroke', conf.linesColor)\n        .style('opacity', conf.label ? 1 : 0)\n        .transition()\n        .duration(duration)\n        .attrTween('d', function (d) {\n          const i = interpolate(this.current, d);\n          return t => labelPath(i(t), rx, ry, conf.h);\n        });\n\n  select(`#${id}`).selectAll('.label')\n        .each(function (d) { this.current = d; })\n        .data(data[data.length - 1].oldEndAngle ? data.slice(0, data.length - 2) : data)\n        .attr('id', d => `${id}-${d.index}-text`)\n        .style('font-size', conf.fontSize)\n        .style('fill', conf.labelColor)\n        .text(conf.label ? conf.label : '')\n        .transition()\n        .duration(duration)\n        .attrTween('transform', function (d) {\n          const i = interpolate(this.current, d);\n          return t => {\n            i(t).endAngle = d.startAngle + (d.endAngle - d.startAngle) * t;\n            const labelPathLength = 1 + conf.h / rx / 2;\n            return `translate(${(rx + 16) * (midAngle(i(t)) >\n                  3 / 2 * Math.PI || midAngle(i(t)) < Math.PI / 2 ? 1 : -1)}, \n                  ${ry * Math.sin(midAngle(i(t))) * labelPathLength + i(t).data.labelMargin + 3})`;\n          };\n        })\n        .styleTween('text-anchor', function (d) {\n          const i = interpolate(this.current, d);\n          return t => {\n            i(t).endAngle = d.startAngle + (d.endAngle - d.startAngle) * t;\n            return midAngle(i(t)) > 3 / 2 * Math.PI || midAngle(i(t)) < Math.PI / 2 ? 'start' : 'end';\n          };\n        });\n};\n\npiechart3D.draw = (chartId, _data, userConfig) => {\n  const conf = prepareConfig(userConfig);\n\n  select(`#${chartId}`).append('svg')\n                .style('width', '100%')\n                .style('height', '100%')\n                .append('g')\n                .attr('id', `${chartId}-svg`);\n\n  const height = select(`#${chartId}`).node().getBoundingClientRect().height;\n  const width = select(`#${chartId}`).node().getBoundingClientRect().width;\n\n  const rx = width / 4 * conf.size / 100;\n  const ry = rx * conf.angle / 90;\n  const duration = conf.animationDuration;\n\n  const id = `${chartId}-svg`;\n\n  let data = checkData(_data);\n\n  data = checkDataColors(data);\n  data = prepearData(data, conf.fontSize, height);\n\n  const slices = select(`#${id}`)\n                  .append('g')\n                  .attr('transform', `translate(${width / 2}, ${height / 2})`)\n                  .style('cursor', 'pointer')\n                  .attr('class', 'slices');\n\n  slices.selectAll('.slices')\n        .data(data)\n        .enter()\n        .append('g')\n        .attr('class', 'slice')\n        .attr('id', d => `${id}-slice-${d.index}`)\n        .on('click', d => conf.animatedSlices ? onClick(id, d, rx, ry, conf.onSliceSelect) : null)\n        .on('mouseover', d => {\n          select(`#${id}-${d.index}-tooltip`).style('opacity', 1);\n        })\n        .on('mouseout', d => {\n          select(`#${id}-${d.index}-tooltip`).style('opacity', 0.0);\n        });\n\n  function drowingStart(d) {\n    select(`#${id}-slice-${d.index}`).on('click', null);\n  }\n\n  function drowingEnd(d) {\n    select(`#${id}-slice-${d.index}`).on('click', d2 => conf.animatedSlices ?\n      onClick(id, d2, rx, ry, conf.onSliceSelect) : null);\n  }\n\n  data.map(s => {\n    slices.select(`#${id}-slice-${s.index}`)\n          .append('path')\n          .attr('class', 'wallSlice')\n          .attr('id', () => `${id}-${s.index}-wall`)\n          .style('fill', conf.wallsColor)\n          .transition()\n          .delay(() => s.parentIndex === 0 ? duration : 0)\n          .duration(() => s.parentIndex === 0 ? duration : duration)\n          .attrTween('d', () => {\n            const s2 = {};\n            Object.assign(s2, s);\n            return t => {\n              s2.endAngle = s.startAngle + (s.endAngle - s.startAngle) * t;\n              return pieWalls(s2, rx, ry, conf.h, conf.ir);\n            };\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n    slices.select(`#${id}-slice-${s.index}`)\n          .append('path')\n          .attr('class', 'innerSlice')\n          .attr('id', () => `${id}-${s.index}-inner`)\n          .style('fill', conf.wallsColor)\n          .attr('d', () => pieInner(s, rx, ry, conf.h, conf.ir))\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', () => {\n            const s2 = {};\n            Object.assign(s2, s);\n            return t => {\n              s2.endAngle = s.startAngle + (s.endAngle - s.startAngle) * t;\n              return pieInner(s2, rx, ry, conf.h, conf.ir);\n            };\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n    slices.select(`#${id}-slice-${s.index}`)\n          .append('path')\n          .attr('class', 'outerSlice')\n          .attr('id', () => `${id}-${s.index}-outer`)\n          .style('fill', conf.wallsColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', () => {\n            const s2 = {};\n            Object.assign(s2, s);\n            return t => {\n              s2.endAngle = s.startAngle + (s.endAngle - s.startAngle) * t;\n              return pieOuter(s2, rx, ry, conf.h);\n            };\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n    slices.select(`#${id}-slice-${s.index}`)\n          .append('path')\n          .attr('class', 'topSlice')\n          .attr('id', () => `${id}-${s.index}-top`)\n          .style('fill', conf.topColor)\n          .transition()\n          .delay(d => d.parentIndex === 0 ? duration : 0)\n          .duration(d => d.parentIndex === 0 ? duration : duration)\n          .attrTween('d', () => {\n            const s2 = {};\n            Object.assign(s2, s);\n            return t => {\n              s2.endAngle = s.startAngle + (s.endAngle - s.startAngle) * t;\n              return pieTop(s2, rx, ry, conf.ir);\n            };\n          })\n          .on('start', d => drowingStart(d))\n          .on('end', d => drowingEnd(d));\n\n    return null;\n  });\n\n  slices.exit().remove();\n\n  if (conf.tooltip) {\n    const tooltips = select(`#${id}`)\n      .append('g')\n      .attr('transform', `translate(${width / 2}, ${height / 2})`)\n      .attr('class', 'tooltips');\n\n    tooltips.selectAll('.tooltips')\n            .data(data)\n            .enter()\n            .append('text')\n            .attr('class', 'tooltip')\n            .attr('id', d => `${id}-${d.index}-tooltip`)\n            .style('opacity', 0)\n            .style('font-size', conf.fontSize)\n            .style('fill', conf.tooltipColor)\n            .style('font-weight', 'bold')\n            .style('cursor', 'pointer')\n            .text(d => conf.tooltip(d))\n            .attr('text-anchor', 'middle')\n            .attr('x', d => (rx + rx * conf.ir) / 2 * Math.cos(midAngle(d)))\n            .attr('y', d => (ry + ry * conf.ir) / 2 * Math.sin(midAngle(d)))\n            .on('click', d => conf.animatedSlices ?\n              onClick(id, d, rx, ry, conf.onSliceSelect) : null)\n            .on('mouseover', d => {\n              select(`#${id}-${d.index}-tooltip`).style('opacity', 1);\n            })\n            .on('mouseout', d => {\n              select(`#${id}-${d.index}-tooltip`).style('opacity', 0.0);\n            });\n\n    tooltips.exit().remove();\n  }\n\n  if (conf.label) {\n    const lines = select(`#${id}`)\n      .append('g')\n      .attr('transform', `translate(${width / 2}, ${height / 2})`)\n      .attr('class', 'lines');\n\n    lines.selectAll('.lines')\n          .data(data[data.length - 1].oldEndAngle ? data.slice(0, data.length - 2) : data)\n          .enter()\n          .append('path')\n          .attr('class', 'label-path')\n          .attr('id', d => `${id}-${d.index}-path`)\n          .style('stroke', conf.linesColor)\n          .transition()\n          .duration(duration)\n          .attrTween('d', d => {\n            const d2 = {};\n            Object.assign(d2, d);\n            return t => {\n              d2.endAngle = d.startAngle + (d.endAngle - d.startAngle) * t;\n              return labelPath(d2, rx, ry, conf.h);\n            };\n          });\n\n    lines.exit().remove();\n\n    const labels = select(`#${id}`)\n      .append('g')\n      .attr('transform', `translate(${width / 2}, ${height / 2})`)\n      .attr('class', 'labels');\n\n    labels.selectAll('.labels')\n          .data(data[data.length - 1].oldEndAngle ? data.slice(0, data.length - 2) : data)\n          .enter()\n          .append('text')\n          .attr('class', 'label')\n          .attr('id', d => `${id}-${d.index}-text`)\n          .style('font-size', conf.fontSize)\n          .style('fill', conf.labelColor)\n          .text(conf.label)\n          .transition()\n          .duration(duration)\n          .attrTween('transform', d => {\n            const d2 = {};\n            Object.assign(d2, d);\n            return t => {\n              d2.endAngle = d.startAngle + (d.endAngle - d.startAngle) * t;\n              const labelPathLength = 1 + conf.h / rx / 2;\n              return `translate(${(rx + 16) * (midAngle(d2) >\n                    3 / 2 * Math.PI || midAngle(d2) < Math.PI / 2 ? 1 : -1)}, \n                    ${ry * Math.sin(midAngle(d2)) * labelPathLength + d2.data.labelMargin + 3})`;\n            };\n          })\n          .styleTween('text-anchor', d => {\n            const d2 = {};\n            Object.assign(d2, d);\n            return t => {\n              d2.endAngle = d.startAngle + (d.endAngle - d.startAngle) * t;\n              return midAngle(d2) > 3 / 2 * Math.PI || midAngle(d2) < Math.PI / 2 ? 'start' : 'end';\n            };\n          });\n\n    labels.exit().remove();\n  }\n};\n\nmodule.exports = piechart3D;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}